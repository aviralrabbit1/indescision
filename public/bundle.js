(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,r=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,"string");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===t(r)?r:String(r)),i)}var r}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function a(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,i=l(e);if(n){var r=l(this).constructor;o=Reflect.construct(i,arguments,r)}else o=i.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,o)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var u=function(t){i(r,React.Component);var n=a(r);function r(t){var o;return e(this,r),(o=n.call(this,t)).deleteOptions=o.deleteOptions.bind(c(o)),o.deleteOption=o.deleteOption.bind(c(o)),o.makeDecision=o.makeDecision.bind(c(o)),o.addOption=o.addOption.bind(c(o)),o.state={options:[]},o}return o(r,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("options"),e=JSON.parse(t);e&&this.setState((function(){return{options:e}})),console.log("componend did mount, fetching data")}},{key:"componentDidUpdate",value:function(t,e){if(e.options.length!==this.state.options.length){var n=JSON.stringify(this.state.options);localStorage.setItem("options",n),console.log("component did update, saving data (after state or props value change)")}}},{key:"componentWillUnmount",value:function(){console.log("component will unmount, (when a component disappears)")}},{key:"deleteOptions",value:function(){this.setState((function(){return{options:[]}}))}},{key:"deleteOption",value:function(t){var e=this;this.setState((function(){return{options:e.state.options.filter((function(e){return e!==t}))}}))}},{key:"makeDecision",value:function(){var t=Math.floor(Math.random()*this.state.options.length),e=this.state.options[t];console.log(e)}},{key:"addOption",value:function(t){return t?this.state.options.indexOf(t)>-1?"Option already exists!":void this.setState((function(e){return{options:e.options.concat(t)}})):"Enter valid value"}},{key:"render",value:function(){return React.createElement("div",null,React.createElement(s,{subTitle:"Create short decision list to choose from"}),React.createElement(p,{hasOptions:this.state.options.length>0,makeDecision:this.makeDecision}),React.createElement(d,{options:this.state.options,deleteOptions:this.deleteOptions,hasOptions:this.state.options.length>0,deleteOption:this.deleteOption}),React.createElement(f,{addOption:this.addOption}))}}]),r}(),s=function(t){return React.createElement("div",null,React.createElement("h1",null,t.title),t.subTitle&&React.createElement("h3",null,t.subTitle))};s.defaultProps={title:"Indecision App"};var p=function(t){return React.createElement("div",null,React.createElement("button",{disabled:!t.hasOptions,onClick:t.makeDecision},"What should i do?"))},f=function(t){i(r,React.Component);var n=a(r);function r(t){var o;return e(this,r),(o=n.call(this,t)).addOption=o.addOption.bind(c(o)),o.state={error:void 0},o}return o(r,[{key:"addOption",value:function(t){t.preventDefault();var e=t.target.elements.option.value.trim(),n=this.props.addOption(e);this.setState((function(){return{error:n}})),n||(t.target.elements.option.value="")}},{key:"render",value:function(){return React.createElement("div",null,this.state.error&&React.createElement("p",null,this.state.error," "),React.createElement("form",{onSubmit:this.addOption},React.createElement("input",{type:"text",name:"option"}),React.createElement("button",null,"Add Options")))}}]),r}(),d=function(t){return React.createElement("div",null,React.createElement("button",{disabled:!t.hasOptions,onClick:t.deleteOptions},"Remove All"),React.createElement("p",null,"You have ",t.options.length>0?t.options.length:"no"," options:"),t.options.map((function(e,n){return React.createElement(m,{key:e,optionText:e,deleteOption:t.deleteOption})})))},m=function(t){return React.createElement("div",null,t.optionText,React.createElement("button",{onClick:function(e){return t.deleteOption(t.optionText)}},"Delete"))};ReactDOM.render(React.createElement(u,null),document.getElementById("app"))})();